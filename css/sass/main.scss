@import "h5bp";
@import "compass";
@import "_responsive_layout";

@include h5bp-normalize;
@include h5bp-base-styles;
@include h5bp-helpers;
@include h5bp-media;


/* ==========================================================================
   SASS variables
   ========================================================================== */
$body_fonts: "ff-meta-web-pro", sans-serif;
$title_fonts: "proxima-nova",sans-serif;

$color_bc: #3b454f;
$color_bc_r: #22aeeb;
$color_bc_p: #e24b70;

$anim_dur_in: 0.3s;
$anim_dur_out: 0.6s;

/* ==========================================================================
   Custom SASS mixins
   ========================================================================== */

@mixin line-overlay($z-index: 99) {
  &:after {
    background: rgba(10,10,10,0.10) url(../gfx/stripe.png);
    content: ' ';
    width: 100%;
    height: 100%;
    position: absolute;
    z-index: $z-index;
    top: 0;
    left: 0;
    bottom: 0;
    right: 0;
  }
} 

/* ==========================================================================
   Author's custom styles
   ========================================================================== */

* { -moz-box-sizing: border-box; -webkit-box-sizing: border-box; box-sizing: border-box; }



h1, h2, h3, h4, h5, h6 {
  font-family: $title_fonts;
}

body {
  font-family: $body_fonts;
}

.header-container {
  margin-bottom: 1em;
  padding: 0.4em 0;
  height: 4.4em;
  .main_logo {
    height: 100%;
    padding: 0.498em 0;
    float: left;
  }
  .main_menu {
    float: right;
    ul {
      height: 100%;
      padding: 0;
      li {
        display: inline-block;
        margin: 0 0 0 0.6em;
        a {
          color: #111;          
          text-decoration: none;
          font-family: $title_fonts;
          font-size: 1.2em;
          padding: 0.4em 0.8em;
          @include transition(opacity $anim_dur_out);
          &:hover {
            opacity: 0.6;
            @include transition(opacity $anim_dur_in);
          }
        }
      }
    }
  }
  &.floating {
    top: 0;
    //display: none;
    opacity: 0;
    &.shown {
      //display: block;
      opacity: 1;
      @include transition(opacity 0.5s);
    }
    margin-bottom: 0;
    position: fixed;
    width: 100%;
    background-color: $color_bc;
    z-index: 99;
    @include transition(opacity 0.2s);
    .main_menu {      
      ul {        
        li {          
          a {
            color: #fff;
          }
        }
      }
    }  
  }  
}







.welcome, .map {
  @include line-overlay(4);
}
.parallax_wrapper {
  height: 600px;
  overflow: hidden;
  position: relative;
}
.parallax_wrapper.divisions {
  height: 100px;
}

.parallax {
  width: 100%;
  position: absolute;
  -webkit-transform: translate3d(0,0,0);
}
.par_offset {
  position: absolute;
  width: 2px;
  z-index: -1;
}

.main_slogan {
  width: 80%;
  margin: -6% -40%;
  color: #fff;
  text-shadow: 0 0 1px rgba(0,0,0,0.2);
  text-align: center;
  font-size: 72px;
  font-weight: 800;
  line-height: 80px;
  font-family: "katarine-web", sans-serif;
  font-style: italic;
  position: absolute;
  left: 50%;
  top: 50%;
  z-index: 5;
  -webkit-transform: translate3d(0,0,0);
}

.panel {
  float: left;
  width: 25%;
  height: 150px;
  position: relative;
  font-size: .8em;
  -webkit-perspective: 600px;
  -moz-perspective: 600px;
  cursor: pointer;
  margin-bottom: 10px;
  .front {
    float: none;
    position: absolute;
    top: 0;
    left: 0;
    z-index: 900;
    width: 100%;
    height: 100%;

    -webkit-background-size: cover;
    -moz-background-size: cover;
    -o-background-size: cover;
    background-size: cover;
    background-position: center center; 

    -webkit-transform: rotateX(0deg) rotateY(0deg);
    -webkit-transform-style: preserve-3d;
    -webkit-backface-visibility: hidden;
    -moz-transform: rotateX(0deg) rotateY(0deg);
    -moz-transform-style: preserve-3d;
    -moz-backface-visibility: hidden;    
    @include transition(all $anim_dur_out);
  }

  &.flip {
    .front {
      z-index: 900;
      -webkit-transform: rotateY(180deg);
      -moz-transform: rotateY(180deg);
    }
  }
  .back {
    float: none;
    position: absolute;
    top: 0;
    left: 0;
    z-index: 800;
    width: 100%;
    height: 100%;
    
    -webkit-background-size: cover;
    -moz-background-size: cover;
    -o-background-size: cover;
    background-size: cover;
    background-position: center center;
    
    -webkit-transform: rotateY(-180deg);
    -webkit-transform-style: preserve-3d;
    -webkit-backface-visibility: hidden;
    -moz-transform: rotateY(-180deg);
    -moz-transform-style: preserve-3d;
    -moz-backface-visibility: hidden;
    @include transition(all $anim_dur_out);

    .pad {    
      position: absolute;
      bottom: 4px;
      background-color: #fff;
      padding: 4px 8px 4px 0;
      h2 {
        padding: 0 0 2px;  
        font-size: 14px;
        line-height: 14px;
        margin: 0;
      }  
      h3 {
        padding: 0;
        font-size: 12px;
        line-height: 12px;
        margin: 0;
      }
    }
  }
  &.flip {
    .back {
      z-index: 1000;
      -webkit-transform: rotateX(0deg) rotateY(0deg);
      -moz-transform: rotateX(0deg) rotateY(0deg);
    }
  }
}  


/* ==========================================================================
   Media Queries
   ========================================================================== */